# TBCV Endpoint Probe Report

**Generated:** 2025-10-28 15:13:25
**Mode:** offline

## Summary

- **Total Registered Endpoints:** 28
- **Total Declared Endpoints:** 0
- **Declared Only (Not Registered):** 0
- **Total Probed:** 28
- **OK (2xx):** 13
- **Errors:** 15

### Status Breakdown

- **error:** 5
- **not_found:** 2
- **ok:** 13
- **unprocessable:** 8

## Probe Results

| Method | Path | Status | Code | Preview/Error |
|--------|------|--------|------|---------------|
| GET | `/` | ✅ ok | 200 | {"name": "TBCV API", "version": "2.0.0", "description": "Truth-Based Content Validation and Enhancem |
| GET | `/agents` | ✅ ok | 200 | {"agents": [], "total_count": 0} |
| GET | `/agents/{agent_id}` | ❌ not_found | 404 | {"detail": "Agent {agent_id} not found"} |
| GET | `/api/audit` | ✅ ok | 200 | {"logs": [], "total": 0} |
| POST | `/api/detect-plugins` | ❌ error | 500 | {"detail": "Fuzzy detector agent not available"} |
| POST | `/api/enhance` | ❌ unprocessable | 422 | {"detail": [{"type": "missing", "loc": ["body", "validation_id"], "msg": "Field required", "input":  |
| POST | `/api/enhance/auto-apply` | ❌ unprocessable | 422 | {"detail": [{"type": "missing", "loc": ["query", "validation_id"], "msg": "Field required", "input": |
| GET | `/api/recommendations` | ✅ ok | 200 | {"recommendations": [], "total": 0} |
| POST | `/api/recommendations/bulk-review` | ❌ unprocessable | 422 | {"detail": [{"type": "missing", "loc": ["query", "action"], "msg": "Field required", "input": null}, |
| GET | `/api/recommendations/{recommendation_id}` | ❌ not_found | 404 | {"detail": "Recommendation not found"} |
| POST | `/api/recommendations/{recommendation_id}/review` | ❌ unprocessable | 422 | {"detail": [{"type": "missing", "loc": ["body", "status"], "msg": "Field required", "input": {}}]} |
| POST | `/api/validate` | ❌ unprocessable | 422 | {"detail": [{"type": "missing", "loc": ["body", "content"], "msg": "Field required", "input": {}}]} |
| POST | `/api/validate/batch` | ❌ unprocessable | 422 | {"detail": [{"type": "missing", "loc": ["body", "files"], "msg": "Field required", "input": {}}]} |
| GET | `/api/validations` | ❌ error | 500 | {"detail": "Failed to retrieve validations"} |
| GET | `/api/validations/{validation_id}` | ❌ error | N/A | ERROR: (sqlite3.OperationalError) no such column: validation_results.workflow_id
[SQL: SELECT valida |
| GET | `/docs` | ✅ ok | 200 | 
    <!DOCTYPE html>
    <html>
    <head>
    <link type="text/css" rel="stylesheet" href="https:// |
| GET | `/docs/oauth2-redirect` | ✅ ok | 200 | 
    <!doctype html>
    <html lang="en-US">
    <head>
        <title>Swagger UI: OAuth2 Redirect</ |
| GET | `/health` | ✅ ok | 200 | {"status": "degraded", "timestamp": "2025-10-28T10:13:23.873002", "agents_registered": 0, "database_ |
| GET | `/health/live` | ✅ ok | 200 | {"status": "alive", "timestamp": "2025-10-28T10:13:23.875010"} |
| GET | `/health/ready` | ✅ ok | 200 | {"status": "not_ready", "timestamp": "2025-10-28T10:13:23.892883", "checks": {"database": false, "ag |
| GET | `/openapi.json` | ✅ ok | 200 | {"openapi": "3.1.0", "info": {"title": "TBCV API", "description": "Truth-Based Content Validation an |
| GET | `/redoc` | ✅ ok | 200 | 
    <!DOCTYPE html>
    <html>
    <head>
    <title>TBCV API - ReDoc</title>
    <!-- needed for a |
| GET | `/registry/agents` | ✅ ok | 200 | {"total_agents": 0, "agents": {}, "registry_status": "active"} |
| GET | `/status` | ✅ ok | 200 | {"status": "operational", "timestamp": "2025-10-28T10:13:25.669189", "version": "2.0.0", "components |
| GET | `/workflows` | ❌ error | 500 | {"detail": "Failed to retrieve workflows"} |
| POST | `/workflows/validate-directory` | ❌ unprocessable | 422 | {"detail": [{"type": "missing", "loc": ["body", "directory_path"], "msg": "Field required", "input": |
| GET | `/workflows/{workflow_id}` | ❌ error | N/A | ERROR: (sqlite3.OperationalError) no such column: workflows.error_message
[SQL: SELECT workflows.id  |
| POST | `/workflows/{workflow_id}/control` | ❌ unprocessable | 422 | {"detail": [{"type": "missing", "loc": ["body", "action"], "msg": "Field required", "input": {}}]} |

## Detailed Error Information

### GET `/agents/{agent_id}`

- **Status Code:** 404
- **Status:** not_found
- **Response Preview:**
  ```
  {"detail": "Agent {agent_id} not found"}
  ```

### POST `/api/validate`

- **Status Code:** 422
- **Status:** unprocessable
- **Response Preview:**
  ```
  {"detail": [{"type": "missing", "loc": ["body", "content"], "msg": "Field required", "input": {}}]}
  ```

### POST `/api/validate/batch`

- **Status Code:** 422
- **Status:** unprocessable
- **Response Preview:**
  ```
  {"detail": [{"type": "missing", "loc": ["body", "files"], "msg": "Field required", "input": {}}]}
  ```

### POST `/api/detect-plugins`

- **Status Code:** 500
- **Status:** error
- **Response Preview:**
  ```
  {"detail": "Fuzzy detector agent not available"}
  ```

### GET `/api/validations`

- **Status Code:** 500
- **Status:** error
- **Response Preview:**
  ```
  {"detail": "Failed to retrieve validations"}
  ```

### GET `/api/validations/{validation_id}`

- **Status Code:** N/A
- **Status:** error
- **Error:** (sqlite3.OperationalError) no such column: validation_results.workflow_id
[SQL: SELECT validation_results.id AS validation_results_id, validation_results.workflow_id AS validation_results_workflow_id, validation_results.file_path AS validation_results_file_path, validation_results.rules_applied AS validation_results_rules_applied, validation_results.validation_results AS validation_results_validation_results, validation_results.notes AS validation_results_notes, validation_results.severity AS validation_results_severity, validation_results.status AS validation_results_status, validation_results.content_hash AS validation_results_content_hash, validation_results.ast_hash AS validation_results_ast_hash, validation_results.run_id AS validation_results_run_id, validation_results.created_at AS validation_results_created_at, validation_results.updated_at AS validation_results_updated_at 
FROM validation_results 
WHERE validation_results.id = ?
 LIMIT ? OFFSET ?]
[parameters: ('{validation_id}', 1, 0)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)

### GET `/api/recommendations/{recommendation_id}`

- **Status Code:** 404
- **Status:** not_found
- **Response Preview:**
  ```
  {"detail": "Recommendation not found"}
  ```

### POST `/api/recommendations/{recommendation_id}/review`

- **Status Code:** 422
- **Status:** unprocessable
- **Response Preview:**
  ```
  {"detail": [{"type": "missing", "loc": ["body", "status"], "msg": "Field required", "input": {}}]}
  ```

### POST `/api/recommendations/bulk-review`

- **Status Code:** 422
- **Status:** unprocessable
- **Response Preview:**
  ```
  {"detail": [{"type": "missing", "loc": ["query", "action"], "msg": "Field required", "input": null}, {"type": "list_type", "loc": ["body"], "msg": "Input should be a valid list", "input": {}}]}
  ```

### POST `/api/enhance`

- **Status Code:** 422
- **Status:** unprocessable
- **Response Preview:**
  ```
  {"detail": [{"type": "missing", "loc": ["body", "validation_id"], "msg": "Field required", "input": {}}, {"type": "missing", "loc": ["body", "file_path"], "msg": "Field required", "input": {}}, {"type...
  ```

### POST `/api/enhance/auto-apply`

- **Status Code:** 422
- **Status:** unprocessable
- **Response Preview:**
  ```
  {"detail": [{"type": "missing", "loc": ["query", "validation_id"], "msg": "Field required", "input": null}]}
  ```

### POST `/workflows/validate-directory`

- **Status Code:** 422
- **Status:** unprocessable
- **Response Preview:**
  ```
  {"detail": [{"type": "missing", "loc": ["body", "directory_path"], "msg": "Field required", "input": {}}]}
  ```

### GET `/workflows`

- **Status Code:** 500
- **Status:** error
- **Response Preview:**
  ```
  {"detail": "Failed to retrieve workflows"}
  ```

### GET `/workflows/{workflow_id}`

- **Status Code:** N/A
- **Status:** error
- **Error:** (sqlite3.OperationalError) no such column: workflows.error_message
[SQL: SELECT workflows.id AS workflows_id, workflows.type AS workflows_type, workflows.state AS workflows_state, workflows.input_params AS workflows_input_params, workflows.created_at AS workflows_created_at, workflows.updated_at AS workflows_updated_at, workflows.completed_at AS workflows_completed_at, workflows.metadata AS workflows_metadata, workflows.total_steps AS workflows_total_steps, workflows.current_step AS workflows_current_step, workflows.progress_percent AS workflows_progress_percent, workflows.error_message AS workflows_error_message 
FROM workflows 
WHERE workflows.id = ?
 LIMIT ? OFFSET ?]
[parameters: ('{workflow_id}', 1, 0)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)

### POST `/workflows/{workflow_id}/control`

- **Status Code:** 422
- **Status:** unprocessable
- **Response Preview:**
  ```
  {"detail": [{"type": "missing", "loc": ["body", "action"], "msg": "Field required", "input": {}}]}
  ```
